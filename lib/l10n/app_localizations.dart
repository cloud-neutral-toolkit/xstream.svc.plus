import 'package:flutter/material.dart';

class AppLocalizations {
  final Locale locale;
  AppLocalizations(this.locale);

  static const _localizedValues = <String, Map<String, String>>{
    'en': {
      'unlockPrompt': 'Enter password to unlock',
      'cancel': 'Cancel',
      'confirm': 'Confirm',
      'password': 'Password',
      'vpn': 'Tunnel Mode',
      'proxyOnly': 'Proxy Mode',
      'home': 'Home',
      'proxy': 'Proxy',
      'settings': 'Settings',
      'logs': 'Logs',
      'help': 'Help',
      'about': 'About',
      'addConfig': 'Add Config',
      'addNodeManualInput': 'Manual Input',
      'addNodeSubscriptionLink': 'Subscription Link',
      'addNodeScanQr': 'Scan QR Code',
      'addNodePickImage': 'Select Image',
      'addNodePickFile': 'Select File',
      'addNodeReadClipboard': 'Read Clipboard',
      'openSettingsImportHint':
          'Open Settings > Xray Management > Import Config',
      'clipboardNoVless': 'Clipboard does not contain a vless:// link',
      'autoImportInProgress': 'Parsing and importing...',
      'scanResultHint': 'Paste QR result (vless://...)',
      'startAcceleration': 'Start Acceleration',
      'stopAcceleration': 'Stop Acceleration',
      'highlightNode': 'Highlight Node',
      'homeStatusDuration': 'Duration',
      'homeStatusLatency': 'Latency',
      'homeStatusLocation': 'Location',
      'serviceRunning': 'âš ï¸ Service already running',
      'noNodes': 'No nodes, please add.',
      'generateSave': 'Generate & Save',
      'addNodeConfig': 'Add Node Config',
      'vlessUri': 'VLESS URI (Optional)',
      'parseVlessUri': 'Parse Link',
      'vlessUriEmpty': 'Please paste a VLESS URI first',
      'vlessUriInvalid': 'Invalid VLESS URI',
      'vlessUriParsed': 'Parsed',
      'requiredFieldsMissing': 'Please fill in all required fields',
      'sudoMissing': 'Unable to read password',
      'bundleIdMissing': 'Bundle ID is not ready',
      'nodeName': 'Node Name (e.g., US-Node)',
      'serverDomain': 'Server Domain',
      'port': 'Port',
      'uuid': 'UUID',
      'openManual': 'Open Manual',
      'logExported': 'ğŸ“¤ Logs exported to console',
      'clearLogs': 'ğŸ§¹ Clear logs',
      'exportLogs': 'ğŸ“¤ Export logs',
      'settingsCenter': 'âš™ï¸ Settings',
      'xrayMgmt': 'Xray Management',
      'initXray': 'Init Xray',
      'updateXray': 'Update Xray Core',
      'configMgmt': 'Config Management',
      'genDefaultNodes': 'Generate Default Nodes',
      'resetAll': 'Reset All Configs',
      'permissionGuide': 'Permissions Guide',
      'permissionGuideIntro':
          'Follow the steps below in Privacy & Security to grant permissions:',
      'openPrivacy': 'Open Privacy & Security',
      'permissionFinished': 'All permissions completed',
      'syncConfig': 'Sync Config',
      'deleteConfig': 'Delete Config',
      'saveConfig': 'Save Config',
      'importConfig': 'Import Config',
      'exportConfig': 'Export Config',
      'advancedConfig': 'Advanced',
      'tunSettings': 'TUN Settings',
      'tunDnsConfig': 'TUN DNS Servers',
      'dnsOverTls': 'DNS over TLS',
      'dnsOverTlsHint':
          'DNS queries still go through the tunnel; this only toggles TLS.',
      'dnsTlsServerName': 'TLS Server Name',
      'tunStatus': 'TUN Status',
      'tunStatusConnected': 'Connected',
      'tunStatusConnecting': 'Connecting',
      'tunStatusDisconnected': 'Disconnected',
      'tunStatusDisconnecting': 'Disconnecting',
      'tunStatusInvalid': 'Invalid',
      'tunStatusReasserting': 'Reasserting',
      'tunStatusNotConfigured': 'Not configured',
      'tunStatusUnsupported': 'Unsupported',
      'tunStatusUnknown': 'Unknown',
      'dnsConfig': 'DNS Settings',
      'primaryDns': 'Primary DNS',
      'secondaryDns': 'Secondary DNS',
      'globalProxy': 'Global Proxy',
      'experimentalFeatures': 'Experimental Features',
      'tunnelProxyMode': 'Tunnel Mode',
      'modeSwitch': 'Switch Connection Mode',
      'vpnDesc': 'tunxxx interface',
      'proxyDesc': 'socks5://127.0.0.1:1080  http://127.0.0.1:1081',
      'unlockFirst': 'Please unlock to init',
      'upgradeDaily': 'Upgrade DailyBuild',
      'viewCollected': 'View collected data',
      'checkUpdate': 'Check Update',
      'collectedData': 'Collected Data',
      'close': 'Close',
      'upToDate': 'Already up to date',
      'language': 'Language',
      'desktopSync': 'Desktop Sync',
      'accountLogin': 'Account Login',
      'serverAddress': 'Server Address',
      'username': 'Username',
      'login': 'Login',
      'verifyMfa': 'Verify MFA',
      'logout': 'Logout',
      'mfaCode': 'MFA Code',
      'mfaCodeMissing': 'Please input MFA code',
      'mfaRequiredHint': 'Enter the 6-digit code from your authenticator app',
      'syncNow': 'Sync Now',
      'lastSyncTime': 'Last Sync',
      'never': 'Never',
      'configVersion': 'Config Version',
      'subscriptionMetadata': 'Subscription',
      'syncInProgress': 'Syncing...',
      'syncStatusNoPrivilege': 'No desktop sync privilege',
      'syncNotLoggedIn': 'Login required',
      'loginMissingFields': 'Please fill in all login fields',
      'logoutSuccess': 'Logged out',
      'runtimeMcpServer': 'Runtime MCP Server',
      'runtimeMcpStatusRunning': 'Running',
      'runtimeMcpStatusStopped': 'Stopped',
      'runtimeMcpStatusUnavailable': 'Unavailable (runtime launcher not found)',
      'runtimeMcpStatusLoading': 'Applying...',
      'runtimeMcpStarted': 'Runtime MCP Server started',
      'runtimeMcpStopped': 'Runtime MCP Server stopped',
      'runtimeMcpToggleFailed': 'Runtime MCP Server toggle failed',
    },
    'zh': {
      'unlockPrompt': 'è¾“å…¥å¯†ç è§£é”',
      'cancel': 'å–æ¶ˆ',
      'confirm': 'ç¡®è®¤',
      'password': 'å¯†ç ',
      'vpn': 'éš§é“æ¨¡å¼',
      'proxyOnly': 'ä»£ç†æ¨¡å¼',
      'home': 'é¦–é¡µ',
      'proxy': 'èŠ‚ç‚¹',
      'settings': 'è®¾ç½®',
      'logs': 'æ—¥å¿—',
      'help': 'å¸®åŠ©',
      'about': 'å…³äº',
      'addConfig': 'æ·»åŠ é…ç½®æ–‡ä»¶',
      'addNodeManualInput': 'æ‰‹åŠ¨è¾“å…¥',
      'addNodeSubscriptionLink': 'è®¢é˜…é“¾æ¥',
      'addNodeScanQr': 'æ‰«æäºŒç»´ç ',
      'addNodePickImage': 'é€‰æ‹©å›¾ç‰‡',
      'addNodePickFile': 'é€‰æ‹©æ–‡ä»¶',
      'addNodeReadClipboard': 'è¯»å–å‰ªè´´æ¿',
      'openSettingsImportHint': 'è¯·åœ¨ è®¾ç½® > Xray ç®¡ç† ä¸­ä½¿ç”¨å¯¼å…¥é…ç½®',
      'clipboardNoVless': 'å‰ªè´´æ¿ä¸­æ²¡æœ‰ vless:// é“¾æ¥',
      'autoImportInProgress': 'æ­£åœ¨è§£æå¹¶å¯¼å…¥...',
      'scanResultHint': 'ç²˜è´´æ‰«ç ç»“æœï¼ˆvless://...ï¼‰',
      'startAcceleration': 'å¯åŠ¨åŠ é€Ÿ',
      'stopAcceleration': 'åœæ­¢åŠ é€Ÿ',
      'highlightNode': 'é«˜äº®è¯¥èŠ‚ç‚¹',
      'homeStatusDuration': 'æŒç»­æ—¶é—´',
      'homeStatusLatency': 'å»¶è¿Ÿ',
      'homeStatusLocation': 'ä½ç½®',
      'serviceRunning': 'âš ï¸ æœåŠ¡å·²åœ¨è¿è¡Œ',
      'noNodes': 'æš‚æ— åŠ é€ŸèŠ‚ç‚¹ï¼Œè¯·å…ˆæ·»åŠ ã€‚',
      'generateSave': 'ç”Ÿæˆé…ç½®å¹¶ä¿å­˜',
      'addNodeConfig': 'æ·»åŠ åŠ é€ŸèŠ‚ç‚¹é…ç½®',
      'vlessUri': 'VLESS é“¾æ¥ï¼ˆå¯é€‰ï¼‰',
      'parseVlessUri': 'è§£æé“¾æ¥',
      'vlessUriEmpty': 'è¯·å…ˆç²˜è´´ VLESS é“¾æ¥',
      'vlessUriInvalid': 'VLESS é“¾æ¥æ— æ•ˆ',
      'vlessUriParsed': 'è§£ææˆåŠŸ',
      'requiredFieldsMissing': 'è¯·å¡«å†™æ‰€æœ‰å¿…å¡«é¡¹',
      'sudoMissing': 'æ— æ³•è¯»å–å¯†ç ',
      'bundleIdMissing': 'Bundle ID å°šæœªåˆå§‹åŒ–',
      'nodeName': 'èŠ‚ç‚¹åï¼ˆå¦‚ US-Nodeï¼‰',
      'serverDomain': 'æœåŠ¡å™¨åŸŸå',
      'port': 'ç«¯å£å·',
      'uuid': 'UUID',
      'openManual': 'æ‰“å¼€ä½¿ç”¨æ–‡æ¡£',
      'logExported': 'ğŸ“¤ æ—¥å¿—å·²å¯¼å‡ºè‡³æ§åˆ¶å°',
      'clearLogs': 'ğŸ§¹ æ¸…ç©ºæ—¥å¿—',
      'exportLogs': 'ğŸ“¤ å¯¼å‡ºæ—¥å¿—',
      'settingsCenter': 'âš™ï¸ è®¾ç½®ä¸­å¿ƒ',
      'xrayMgmt': 'Xray ç®¡ç†',
      'initXray': 'åˆå§‹åŒ– Xray',
      'updateXray': 'æ›´æ–° Xray Core',
      'configMgmt': 'é…ç½®ç®¡ç†',
      'genDefaultNodes': 'ç”Ÿæˆé»˜è®¤èŠ‚ç‚¹',
      'resetAll': 'é‡ç½®æ‰€æœ‰é…ç½®',
      'permissionGuide': 'ç³»ç»Ÿæƒé™å‘å¯¼',
      'permissionGuideIntro': 'è¯·åœ¨â€œéšç§ä¸å®‰å…¨æ€§â€ä¸­å®Œæˆä»¥ä¸‹æ­¥éª¤ï¼š',
      'openPrivacy': 'æ‰“å¼€éšç§ä¸å®‰å…¨æ€§',
      'permissionFinished': 'æƒé™æ£€æŸ¥å·²å®Œæˆ',
      'syncConfig': 'åŒæ­¥é…ç½®',
      'deleteConfig': 'åˆ é™¤é…ç½®',
      'saveConfig': 'ä¿å­˜é…ç½®',
      'importConfig': 'å¯¼å…¥é…ç½®',
      'exportConfig': 'å¯¼å‡ºé…ç½®',
      'advancedConfig': 'é«˜çº§é…ç½®',
      'tunSettings': 'TUN è®¾ç½®',
      'tunDnsConfig': 'TUN DNS æœåŠ¡å™¨',
      'dnsOverTls': 'DNS over TLS',
      'dnsOverTlsHint': 'DNS æŸ¥è¯¢å§‹ç»ˆèµ°éš§é“ï¼Œä»…æ§åˆ¶ TLS åŠ å¯†ã€‚',
      'dnsTlsServerName': 'TLS æœåŠ¡å™¨åç§°',
      'tunStatus': 'TUN çŠ¶æ€',
      'tunStatusConnected': 'å·²è¿æ¥',
      'tunStatusConnecting': 'è¿æ¥ä¸­',
      'tunStatusDisconnected': 'å·²æ–­å¼€',
      'tunStatusDisconnecting': 'æ–­å¼€ä¸­',
      'tunStatusInvalid': 'æ— æ•ˆé…ç½®',
      'tunStatusReasserting': 'é‡è¯•ä¸­',
      'tunStatusNotConfigured': 'æœªé…ç½®',
      'tunStatusUnsupported': 'ä¸æ”¯æŒ',
      'tunStatusUnknown': 'æœªçŸ¥',
      'dnsConfig': 'DNS é…ç½®',
      'primaryDns': 'ä¸» DNS',
      'secondaryDns': 'å¤‡ç”¨ DNS',
      'globalProxy': 'å…¨å±€ä»£ç†',
      'experimentalFeatures': 'å®éªŒç‰¹æ€§',
      'tunnelProxyMode': 'éš§é“æ¨¡å¼',
      'modeSwitch': 'åˆ‡æ¢è¿æ¥æ¨¡å¼',
      'vpnDesc': 'tunxxxç½‘å¡',
      'proxyDesc': 'socks5://127.0.0.1:1080  http://127.0.0.1:1081',
      'unlockFirst': 'è¯·å…ˆè§£é”ä»¥æ‰§è¡Œåˆå§‹åŒ–æ“ä½œ',
      'upgradeDaily': 'å‡çº§ DailyBuild',
      'viewCollected': 'æŸ¥çœ‹æ”¶é›†å†…å®¹',
      'checkUpdate': 'æ£€æŸ¥æ›´æ–°',
      'collectedData': 'æ”¶é›†å†…å®¹',
      'close': 'å…³é—­',
      'upToDate': 'å·²æ˜¯æœ€æ–°ç‰ˆæœ¬',
      'language': 'è¯­è¨€',
      'desktopSync': 'æ¡Œé¢åŒæ­¥',
      'accountLogin': 'è´¦å·ç™»å½•',
      'serverAddress': 'æœåŠ¡åœ°å€',
      'username': 'è´¦å·',
      'login': 'ç™»å½•',
      'verifyMfa': 'éªŒè¯ MFA',
      'logout': 'é€€å‡ºç™»å½•',
      'mfaCode': 'MFA éªŒè¯ç ',
      'mfaCodeMissing': 'è¯·è¾“å…¥ MFA éªŒè¯ç ',
      'mfaRequiredHint': 'è¯·è¾“å…¥è®¤è¯å™¨ä¸­çš„ 6 ä½éªŒè¯ç ',
      'syncNow': 'ç«‹å³åŒæ­¥',
      'lastSyncTime': 'æœ€è¿‘åŒæ­¥',
      'never': 'ä»æœª',
      'configVersion': 'é…ç½®ç‰ˆæœ¬',
      'subscriptionMetadata': 'è®¢é˜…ä¿¡æ¯',
      'syncInProgress': 'æ­£åœ¨åŒæ­¥...',
      'syncStatusNoPrivilege': 'è´¦å·æ— æ¡Œé¢åŒæ­¥æƒé™',
      'syncNotLoggedIn': 'è¯·å…ˆç™»å½•',
      'loginMissingFields': 'è¯·å¡«å†™å®Œæ•´çš„ç™»å½•ä¿¡æ¯',
      'logoutSuccess': 'å·²é€€å‡ºç™»å½•',
      'runtimeMcpServer': 'è¿è¡Œæ€ MCP Server',
      'runtimeMcpStatusRunning': 'è¿è¡Œä¸­',
      'runtimeMcpStatusStopped': 'å·²åœæ­¢',
      'runtimeMcpStatusUnavailable': 'ä¸å¯ç”¨ï¼ˆæœªæ‰¾åˆ°è¿è¡Œæ€å¯åŠ¨å™¨ï¼‰',
      'runtimeMcpStatusLoading': 'å¤„ç†ä¸­...',
      'runtimeMcpStarted': 'è¿è¡Œæ€ MCP Server å·²å¯åŠ¨',
      'runtimeMcpStopped': 'è¿è¡Œæ€ MCP Server å·²åœæ­¢',
      'runtimeMcpToggleFailed': 'è¿è¡Œæ€ MCP Server åˆ‡æ¢å¤±è´¥',
    },
  };

  String get(String key) {
    return _localizedValues[locale.languageCode]?[key] ??
        _localizedValues['en']![key] ??
        key;
  }

  static const LocalizationsDelegate<AppLocalizations> delegate =
      _AppLocalizationsDelegate();
}

class _AppLocalizationsDelegate
    extends LocalizationsDelegate<AppLocalizations> {
  const _AppLocalizationsDelegate();

  @override
  bool isSupported(Locale locale) => ['en', 'zh'].contains(locale.languageCode);

  @override
  Future<AppLocalizations> load(Locale locale) async {
    return AppLocalizations(locale);
  }

  @override
  bool shouldReload(covariant LocalizationsDelegate<AppLocalizations> old) =>
      false;
}

extension LocalizationExtension on BuildContext {
  AppLocalizations get l10n =>
      Localizations.of<AppLocalizations>(this, AppLocalizations)!;
}
